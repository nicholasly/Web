$(document).on('click','th', function() {var table = $(this).parents('table').eq(0);var rows = table.find('tr:gt(0)').toArray().sort(function() {return function(a, b) {var valA = $(a).children('td').eq($(this).index()).text(), valB = $(b).children('td').eq($(this).index()).text();return $.isNumeric(valA) && $.isNumeric(valB) ? valA - valB : valA.localeCompare(valB);};});this.asc = !this.asc;if (!this.asc) rows = rows.reverse();table.children('tbody').empty().html(rows);});